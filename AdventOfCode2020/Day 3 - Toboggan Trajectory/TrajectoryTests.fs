module TrajectoryTests

open FsUnit.Xunit
open Xunit
open Trajectory
open Xunit.Abstractions

type TrajectoryTests(output: ITestOutputHelper) =

    [<Fact>]
    member __.``Example Traversal`` () =
        let input = [|
            "..##......."
            "#...#...#.."
            ".#....#..#."
            "..#.#...#.#"
            ".#...##..#."
            "..#.##....."
            ".#.#.#....#"
            ".#........#"
            "#.##...#..."
            "#...##....#"
            ".#..#...#.#"
        |]

        let trees = traverse input (3, 1)

        trees |> should equal 7

    [<Fact>]
    member __.``Puzzle input - Part I`` () =
        let input = [|
            ".....##.#.....#........#....##."
            "....#...#...#.#.......#........"
            ".....##.#......#.......#......."
            "...##.........#...#............"
            "........#...#.......#.........#"
            "..........#......#..#....#....#"
            "..................#..#..#....##"
            ".....##...#..#..#..#..#.##....."
            "..##.###....#.#.........#......"
            "#.......#......#......#....##.."
            ".....#..#.#.......#......#....."
            "............#............#....."
            "...#.#........#........#.#.##.#"
            ".#..#...#.....#....##.........."
            "##..........#...#...#.........."
            "...........#...###...#.......##"
            ".#..#............#........#...."
            "##.#..#.....#.......#.#.#......"
            ".##.....#....#.#.......#.##...."
            "..##...........#.......#..##.#."
            "##...#.#........#..#...#...#..#"
            ".#..#........#.#.......#..#...#"
            ".##.##.##...#.#............##.."
            "..#.#..###......#..#......#...."
            ".#..#..#.##.#.##.#.#..........."
            "...#....#..#.#.#.........#..#.."
            "......#.#....##.##......#......"
            "#....#.##.##....#..#..........."
            "...#.#.#.#..#.#..#.#..#.##....."
            "#.....#######.###.##.#.#.#....."
            "..#.##.....##......#...#......."
            "..#....#..#...##.#..#..#..#..#."
            ".............#.##....#........."
            ".#....#.##.....#..............."
            ".#............#....#...#.##...."
            ".#.....#.##.###.......#..#....."
            ".#...#.........#.......#..#...."
            "..#.#..#.##.......##..........."
            ".....##..#..#..#..#.##..#.....#"
            "..##............##...#..#......"
            "...#..#....#..##.....##..#.#..."
            "#.....##....#.#.#...#...#..##.#"
            "#.#..#.........#.##.#...#.#.#.."
            ".....#.#....##....#............"
            "#.......#..#.....##..#...#...#."
            ".....#.#...#...#..#......#....."
            "..##....#.#.#.#.#..#..........."
            "##..#...#.........#......#...#."
            "..#...#.#.#.#..#.#.##..##......"
            "#............###.....###......."
            "..........#...#........###....."
            ".......##...#...#...#........#."
            ".#..#.##.#....................."
            ".#..##........##.##...#.......#"
            ".......##......#.....#......#.."
            ".##.#.....#......#......#......"
            "#...##.#.#...#.#..............."
            "........#..#...#.##.......#...."
            "...................#...#...##.."
            "...#...#.........#.....#..#.#.."
            ".###..#........#..##.##..#.##.."
            "#...#.....#.....#.....#..#..#.."
            "###..#.....#.#.#.#......#....#."
            "#........#....##.#...##........"
            ".#.#..##........##....##.#.#..."
            "#...#....#.###.#.#.........#..."
            "...#...##..###.......#........."
            "......#....#..##..#.....#.#...."
            "........#...##...###......##..."
            "..........##.#.......##........"
            "...#....#......#...##.....#...."
            "###.#.....#.#..#..#....#...#..#"
            ".#.....#.#....#...............#"
            "..#....#....####....###....#.#."
            "....##........#..#.##.#....#..."
            ".......##...#...#..#....####..."
            "#...##.#......##...#..#........"
            "..##..#.##....#.......##.#.#..."
            "..#.#...............#...#.#...."
            "....#.....#.#.....#.##.......#."
            "...#.#..##.#.#..............##."
            "..#.....#...#.............#.##."
            "##..#.#...#........#..#.....##."
            "...........##...#.#.###...#...."
            "...#.#.#..#..................#."
            ".#...##.............#...#......"
            "..#..#...#.#.......#...#.....#."
            "..##.......#.#................."
            ".##..#........###.....#....#.##"
            "......#..###.......#....##....#"
            "....#.....#.................#.."
            "........#...#...#.............."
            "...#..#.###.......#..#.#.#.##.."
            "..#...#.....#....#.........#..."
            "...#.............#........###.."
            "......#..............#......#.."
            "#..#...........#...#..........#"
            "...##...#.###..#...#.....#.#..."
            "....#..##......#.......##......"
            "....#....##.#...#.#..#....#...#"
            ".#...........#..#....##...#..##"
            "..#.#.................###.#...#"
            "..#.#.#...##...........#......."
            "..........#..##...#.#..##....##"
            "........#........#.##..#.#...#."
            ".....#...##.......##......#...#"
            "....#...#..#..#.....#.........."
            ".#..#......#..#..#..###.......#"
            ".##..........#...#...#.#.....##"
            "..#..........#.#.#...###......."
            "....#................#...##...."
            ".##..#....#..........#.#.#....."
            "..##...#.#........#.....#.##..."
            "....####.....#..#.........##..#"
            "......#.........#...#.........."
            "....#...................#..##.."
            ".##....#.#.........#....#...#.."
            "....##...##.....#..####........"
            "..##.#....#.#.......##...#....."
            "#...#.#.#...#..#..##.....#....."
            "#..................###.....#..."
            "#.#.....#.......#.#...###.#...."
            ".#..#....#............#........"
            "#.#....#..#.#...............#.."
            "..#..#..#.............#......#."
            "..#.......##..................."
            ".#....#.........#....#.#.#..#.."
            "....#....#..#...............#.."
            "......#..#..##......#.........#"
            "..#.##........##......#..#..#.#"
            "#.....#.#....#.........##...#.."
            "###..............#....###...##."
            "....#..##......#.......##......"
            "......#...#.##......##....#..#."
            "..........#....#..##.......#..#"
            ".#..#...##..#...........#..#..#"
            ".....#....#...#..###...###....#"
            ".#####..#...#.#.#..#.#.###...##"
            "..##............##.#...#.##...#"
            ".##..#...#...#....##.#..#..##.."
            ".#....#...#............##..#..."
            ".#.#......#....#....#..##..##.."
            ".........#...#.......#.##..#..."
            "#.........#.....##.....#..#..#."
            "...##.#...#...#..#..#....##..##"
            ".#............#...#....##......"
            "..#...#.##.........#.#......#.#"
            "....#.##........#.........#..##"
            "#.........#......#.#......#..#."
            "........#.#.......#.#........#."
            "..#..........##.#...#..#.#....."
            "..#...#....#...#...#..#.#..#.#."
            ".#.........#....#..#####..#...."
            "#.#....#.#.###...#............."
            "..##...........##......##......"
            "#.....#..#....#...............#"
            "...#.#..#....##......#...##...."
            "...#........#.....#...#..#....."
            ".#......##.........#......#...."
            "..#..###.##...#.#.....#........"
            ".............#......#..#......."
            "..#...............#.#...#..#..#"
            ".......#..#...#.#####......#..#"
            ".........#.....#..............."
            "##........#............#.#....."
            ".#...#.....#..#..#...#....#...#"
            "..#....#....##......##.....#.#."
            "#...##..##......#...#....#....."
            "....#.#.#.....###....##.##....#"
            "..........##...##.......#......"
            "..#.......#...##.#....##.##...."
            "....#........................#."
            "...#...#.#.##...#.....#...#..#."
            ".#....##..#..#..........##..##."
            ".#.....#..#...#.##.....#......."
            ".#.##...#.#..#.....##....#...#."
            ".##...#........##....#..#......"
            ".....#........#..........#.#..#"
            "....#..##.......#..#.....#....."
            "...........#...#........#.##..#"
            ".....#..#....#..#.#.....#....##"
            ".....#....#.##.#..##..........."
            "...##.......##.........#......."
            "...............##..#....#.#...."
            ".......###..#........#..####.##"
            ".......#.##...#.#....#.####...."
            "....#...............#.........."
            "##.#.......#.....#......#...#.."
            "......##.....#....#.....#..#..#"
            ".....#...##.............#......"
            "#.#.##.#.....#..#........#....."
            "......##....#..#........#......"
            "............#........#..#.#...."
            "##.......#......#...####..#.##."
            "..##..#...#.............#.##..."
            ".....#..##......#.##......###.."
            "............#........#........#"
            "#.#.#.#...#.#.....#.........#.."
            ".........#...............#....."
            ".............###.#.......#....#"
            "###.##..#..#..........#....#..."
            "#......#...#..#..#.....#.##...."
            "............#....#....#..#....."
            "..#.#....#...#......#.#..#..##."
            "...#........................#.."
            "#.#...#..........#......#.#...."
            ".........#................#...#"
            "##.....#....#........##.......#"
            "#...##........#...#...........#"
            "...#...#..........##.......#.#."
            "..#.#.#....#......##..........."
            "...#.#...#.##.#..#.#.##........"
            "#....##.....###..#.......#....."
            "###.....#.#.#...#..#.........##"
            "..#......#..###...#.#.#.....#.#"
            ".#....#.....#............#..##."
            "....#....##..........#.....##.."
            "#...........#....#...#..#...##."
            "..#.......#.....#..........#..."
            ".#..#................#......#.."
            "..#......#.#...#..#.#....#....#"
            "...#..#...###..#..##....#.#...."
            "..#..............#.....#......."
            "...#.#...#.........#.#........."
            "##......##...........##.#.##..#"
            "..#..##..#....#.#......#.#...##"
            "...#.###....###...#.....#......"
            "#.#................#......#...."
            "..#.....#.....#....##.......#.."
            ".#.#...............##..#......."
            "...#....#.......#.#.....##..#.."
            ".........#....#.......#.#...##."
            "#....#......##.#.........##...#"
            "#.............#..##.#.#..##...."
            "...#....#..#...#....#.#.#.#...#"
            ".#....#....#..##.....#.#...###."
            "##............#.#...##.#..#.#.."
            "##.#....##.....#..#..###....#.."
            "##....#................##......"
            "...##..#...#..###....#.....##.."
            ".#...##......#..#.#.....#...#.."
            "..##......##...#.##.......#...."
            "......#.....#.....##........#.#"
            "##....#...........#............"
            "#.......#....#..#.##..##.#..#.."
            ".#....##.#.....#..#..#........."
            ".#....#.#.#...#.....##.....#.#."
            ".......##.#.#........#......##."
            "##........#.##.......#...#..#.."
            "...###..##....#.#....#.#......."
            "......#.......#...##.....#...#."
            "..#......##.#......#.....#....."
            ".....#.....###...#............."
            "#...#.#...#...#..#......#......"
            "#.....#.......###.#....###.#..."
            "...#.......#....####....##..#.."
            "#.#.....#....#........#.......#"
            ".........#.......#......#.#...#"
            "..##....#.....##..............."
            "..........#..#.#..#......#....."
            "..................##...##.#...."
            "........#.......#...#..#.#.#..."
            ".....#.#..##..#..#.#..#.......#"
            ".....#........#..#..#....#....#"
            "##............#..#..#...#....#."
            ".....#....................##..#"
            "........##.#....###............"
            "##.......#.##................#."
            ".....###.#..#..#...#....###.##."
            ".#......#.#....#.....##.#......"
            "...##......##.........#...#...."
            "....####..............#........"
            "#...#.#..##..##.........##....."
            "......#......#....#..#........."
            "#.....#.....#.##..............."
            "..#.##..#...##.#.####..#....###"
            "#..#......#....#.##..##...#.#.."
            "#....#.......#.....#.....#.#..."
            "##.......#.....##...#.....#...."
            "...#...##..........#..##..##..#"
            ".###..#..##...#....#...#..#...."
            "......##..###.......###...#...."
            "....#...#.#.......#.##...##..##"
            "#.#......#..##.#.#..#..#..#...."
            "......#........#.......#......."
            "..........#.#.....##..........."
            "......#..#........#..#.#..###.."
            "##..#.............##..#........"
            ".........#....#.....#.........#"
            ".....#..##...#..#..##.##......#"
            "###..#...........#.......#....#"
            "...............#....#.#........"
            ".##.#...#.#........##....#....."
            ".##.###...##..###....#...#...#."
            ".##..#....#.#.#...#.#.#.#...#.."
            ".###.#...#.......#....#..#....."
            "..#..#.#.#.#........#.....##..."
            ".#.......#.#...#.#...........##"
            "...#.....##....#.....##...#...."
            "................#.....####...#."
            ".#.#......#.......##...#.##...."
            ".###.........#.#......#..#.#..."
            "#......#...#....#..##.......#.."
            ".##..#....#..#...........#...#."
            ".#...#.......##........#.##...."
            "..#...........#...##..........."
            ".....##....##......#....#..#..."
            "#......#.#...#.##.#...##....#.."
            "#....................#...##...#"
            "..#............#........#......"
            ".............#.........##.....#"
            "...#...#......##.#...#...#.#..."
            "..#...#.#.................#...."
            "....##...#....#...###.##......#"
            "...#....#...#..#...#....#.....#"
            "...##.#........#..#.........#.."
            "..##.....#..##...#.....##...#.."
            "#.........#.#.#...#......#...#."
            "#.#...........#...#..#..#..##.."
            "..#..#..##....#..........#.###."
            ".....#..#....#.#...#...#..#..#."
            "###.....#..#.................#."
            ".#..##.##.#......#....##..#...."
        |]

        let trees = traverse input (3, 1)

        output.WriteLine("Trees: {0}", trees)

    [<Fact>]
    member __.``Example Traversal - Part II`` () =
        let input = [|
            "..##......."
            "#...#...#.."
            ".#....#..#."
            "..#.#...#.#"
            ".#...##..#."
            "..#.##....."
            ".#.#.#....#"
            ".#........#"
            "#.##...#..."
            "#...##....#"
            ".#..#...#.#"
        |]

        let slopes = [|
            (1,1)
            (3,1)
            (5,1)
            (7,1)
            (1,2)
        |]

        let trees = slopes
                    |> Array.map (fun (x,y) -> traverse input (x,y))

        trees |> should equal [|2;7;3;4;2|]
        trees |> Array.fold (*) 1 |> should equal 336

    [<Fact>]
    member __.``Puzzle input - Part II`` () =
        let input = [|
            ".....##.#.....#........#....##."
            "....#...#...#.#.......#........"
            ".....##.#......#.......#......."
            "...##.........#...#............"
            "........#...#.......#.........#"
            "..........#......#..#....#....#"
            "..................#..#..#....##"
            ".....##...#..#..#..#..#.##....."
            "..##.###....#.#.........#......"
            "#.......#......#......#....##.."
            ".....#..#.#.......#......#....."
            "............#............#....."
            "...#.#........#........#.#.##.#"
            ".#..#...#.....#....##.........."
            "##..........#...#...#.........."
            "...........#...###...#.......##"
            ".#..#............#........#...."
            "##.#..#.....#.......#.#.#......"
            ".##.....#....#.#.......#.##...."
            "..##...........#.......#..##.#."
            "##...#.#........#..#...#...#..#"
            ".#..#........#.#.......#..#...#"
            ".##.##.##...#.#............##.."
            "..#.#..###......#..#......#...."
            ".#..#..#.##.#.##.#.#..........."
            "...#....#..#.#.#.........#..#.."
            "......#.#....##.##......#......"
            "#....#.##.##....#..#..........."
            "...#.#.#.#..#.#..#.#..#.##....."
            "#.....#######.###.##.#.#.#....."
            "..#.##.....##......#...#......."
            "..#....#..#...##.#..#..#..#..#."
            ".............#.##....#........."
            ".#....#.##.....#..............."
            ".#............#....#...#.##...."
            ".#.....#.##.###.......#..#....."
            ".#...#.........#.......#..#...."
            "..#.#..#.##.......##..........."
            ".....##..#..#..#..#.##..#.....#"
            "..##............##...#..#......"
            "...#..#....#..##.....##..#.#..."
            "#.....##....#.#.#...#...#..##.#"
            "#.#..#.........#.##.#...#.#.#.."
            ".....#.#....##....#............"
            "#.......#..#.....##..#...#...#."
            ".....#.#...#...#..#......#....."
            "..##....#.#.#.#.#..#..........."
            "##..#...#.........#......#...#."
            "..#...#.#.#.#..#.#.##..##......"
            "#............###.....###......."
            "..........#...#........###....."
            ".......##...#...#...#........#."
            ".#..#.##.#....................."
            ".#..##........##.##...#.......#"
            ".......##......#.....#......#.."
            ".##.#.....#......#......#......"
            "#...##.#.#...#.#..............."
            "........#..#...#.##.......#...."
            "...................#...#...##.."
            "...#...#.........#.....#..#.#.."
            ".###..#........#..##.##..#.##.."
            "#...#.....#.....#.....#..#..#.."
            "###..#.....#.#.#.#......#....#."
            "#........#....##.#...##........"
            ".#.#..##........##....##.#.#..."
            "#...#....#.###.#.#.........#..."
            "...#...##..###.......#........."
            "......#....#..##..#.....#.#...."
            "........#...##...###......##..."
            "..........##.#.......##........"
            "...#....#......#...##.....#...."
            "###.#.....#.#..#..#....#...#..#"
            ".#.....#.#....#...............#"
            "..#....#....####....###....#.#."
            "....##........#..#.##.#....#..."
            ".......##...#...#..#....####..."
            "#...##.#......##...#..#........"
            "..##..#.##....#.......##.#.#..."
            "..#.#...............#...#.#...."
            "....#.....#.#.....#.##.......#."
            "...#.#..##.#.#..............##."
            "..#.....#...#.............#.##."
            "##..#.#...#........#..#.....##."
            "...........##...#.#.###...#...."
            "...#.#.#..#..................#."
            ".#...##.............#...#......"
            "..#..#...#.#.......#...#.....#."
            "..##.......#.#................."
            ".##..#........###.....#....#.##"
            "......#..###.......#....##....#"
            "....#.....#.................#.."
            "........#...#...#.............."
            "...#..#.###.......#..#.#.#.##.."
            "..#...#.....#....#.........#..."
            "...#.............#........###.."
            "......#..............#......#.."
            "#..#...........#...#..........#"
            "...##...#.###..#...#.....#.#..."
            "....#..##......#.......##......"
            "....#....##.#...#.#..#....#...#"
            ".#...........#..#....##...#..##"
            "..#.#.................###.#...#"
            "..#.#.#...##...........#......."
            "..........#..##...#.#..##....##"
            "........#........#.##..#.#...#."
            ".....#...##.......##......#...#"
            "....#...#..#..#.....#.........."
            ".#..#......#..#..#..###.......#"
            ".##..........#...#...#.#.....##"
            "..#..........#.#.#...###......."
            "....#................#...##...."
            ".##..#....#..........#.#.#....."
            "..##...#.#........#.....#.##..."
            "....####.....#..#.........##..#"
            "......#.........#...#.........."
            "....#...................#..##.."
            ".##....#.#.........#....#...#.."
            "....##...##.....#..####........"
            "..##.#....#.#.......##...#....."
            "#...#.#.#...#..#..##.....#....."
            "#..................###.....#..."
            "#.#.....#.......#.#...###.#...."
            ".#..#....#............#........"
            "#.#....#..#.#...............#.."
            "..#..#..#.............#......#."
            "..#.......##..................."
            ".#....#.........#....#.#.#..#.."
            "....#....#..#...............#.."
            "......#..#..##......#.........#"
            "..#.##........##......#..#..#.#"
            "#.....#.#....#.........##...#.."
            "###..............#....###...##."
            "....#..##......#.......##......"
            "......#...#.##......##....#..#."
            "..........#....#..##.......#..#"
            ".#..#...##..#...........#..#..#"
            ".....#....#...#..###...###....#"
            ".#####..#...#.#.#..#.#.###...##"
            "..##............##.#...#.##...#"
            ".##..#...#...#....##.#..#..##.."
            ".#....#...#............##..#..."
            ".#.#......#....#....#..##..##.."
            ".........#...#.......#.##..#..."
            "#.........#.....##.....#..#..#."
            "...##.#...#...#..#..#....##..##"
            ".#............#...#....##......"
            "..#...#.##.........#.#......#.#"
            "....#.##........#.........#..##"
            "#.........#......#.#......#..#."
            "........#.#.......#.#........#."
            "..#..........##.#...#..#.#....."
            "..#...#....#...#...#..#.#..#.#."
            ".#.........#....#..#####..#...."
            "#.#....#.#.###...#............."
            "..##...........##......##......"
            "#.....#..#....#...............#"
            "...#.#..#....##......#...##...."
            "...#........#.....#...#..#....."
            ".#......##.........#......#...."
            "..#..###.##...#.#.....#........"
            ".............#......#..#......."
            "..#...............#.#...#..#..#"
            ".......#..#...#.#####......#..#"
            ".........#.....#..............."
            "##........#............#.#....."
            ".#...#.....#..#..#...#....#...#"
            "..#....#....##......##.....#.#."
            "#...##..##......#...#....#....."
            "....#.#.#.....###....##.##....#"
            "..........##...##.......#......"
            "..#.......#...##.#....##.##...."
            "....#........................#."
            "...#...#.#.##...#.....#...#..#."
            ".#....##..#..#..........##..##."
            ".#.....#..#...#.##.....#......."
            ".#.##...#.#..#.....##....#...#."
            ".##...#........##....#..#......"
            ".....#........#..........#.#..#"
            "....#..##.......#..#.....#....."
            "...........#...#........#.##..#"
            ".....#..#....#..#.#.....#....##"
            ".....#....#.##.#..##..........."
            "...##.......##.........#......."
            "...............##..#....#.#...."
            ".......###..#........#..####.##"
            ".......#.##...#.#....#.####...."
            "....#...............#.........."
            "##.#.......#.....#......#...#.."
            "......##.....#....#.....#..#..#"
            ".....#...##.............#......"
            "#.#.##.#.....#..#........#....."
            "......##....#..#........#......"
            "............#........#..#.#...."
            "##.......#......#...####..#.##."
            "..##..#...#.............#.##..."
            ".....#..##......#.##......###.."
            "............#........#........#"
            "#.#.#.#...#.#.....#.........#.."
            ".........#...............#....."
            ".............###.#.......#....#"
            "###.##..#..#..........#....#..."
            "#......#...#..#..#.....#.##...."
            "............#....#....#..#....."
            "..#.#....#...#......#.#..#..##."
            "...#........................#.."
            "#.#...#..........#......#.#...."
            ".........#................#...#"
            "##.....#....#........##.......#"
            "#...##........#...#...........#"
            "...#...#..........##.......#.#."
            "..#.#.#....#......##..........."
            "...#.#...#.##.#..#.#.##........"
            "#....##.....###..#.......#....."
            "###.....#.#.#...#..#.........##"
            "..#......#..###...#.#.#.....#.#"
            ".#....#.....#............#..##."
            "....#....##..........#.....##.."
            "#...........#....#...#..#...##."
            "..#.......#.....#..........#..."
            ".#..#................#......#.."
            "..#......#.#...#..#.#....#....#"
            "...#..#...###..#..##....#.#...."
            "..#..............#.....#......."
            "...#.#...#.........#.#........."
            "##......##...........##.#.##..#"
            "..#..##..#....#.#......#.#...##"
            "...#.###....###...#.....#......"
            "#.#................#......#...."
            "..#.....#.....#....##.......#.."
            ".#.#...............##..#......."
            "...#....#.......#.#.....##..#.."
            ".........#....#.......#.#...##."
            "#....#......##.#.........##...#"
            "#.............#..##.#.#..##...."
            "...#....#..#...#....#.#.#.#...#"
            ".#....#....#..##.....#.#...###."
            "##............#.#...##.#..#.#.."
            "##.#....##.....#..#..###....#.."
            "##....#................##......"
            "...##..#...#..###....#.....##.."
            ".#...##......#..#.#.....#...#.."
            "..##......##...#.##.......#...."
            "......#.....#.....##........#.#"
            "##....#...........#............"
            "#.......#....#..#.##..##.#..#.."
            ".#....##.#.....#..#..#........."
            ".#....#.#.#...#.....##.....#.#."
            ".......##.#.#........#......##."
            "##........#.##.......#...#..#.."
            "...###..##....#.#....#.#......."
            "......#.......#...##.....#...#."
            "..#......##.#......#.....#....."
            ".....#.....###...#............."
            "#...#.#...#...#..#......#......"
            "#.....#.......###.#....###.#..."
            "...#.......#....####....##..#.."
            "#.#.....#....#........#.......#"
            ".........#.......#......#.#...#"
            "..##....#.....##..............."
            "..........#..#.#..#......#....."
            "..................##...##.#...."
            "........#.......#...#..#.#.#..."
            ".....#.#..##..#..#.#..#.......#"
            ".....#........#..#..#....#....#"
            "##............#..#..#...#....#."
            ".....#....................##..#"
            "........##.#....###............"
            "##.......#.##................#."
            ".....###.#..#..#...#....###.##."
            ".#......#.#....#.....##.#......"
            "...##......##.........#...#...."
            "....####..............#........"
            "#...#.#..##..##.........##....."
            "......#......#....#..#........."
            "#.....#.....#.##..............."
            "..#.##..#...##.#.####..#....###"
            "#..#......#....#.##..##...#.#.."
            "#....#.......#.....#.....#.#..."
            "##.......#.....##...#.....#...."
            "...#...##..........#..##..##..#"
            ".###..#..##...#....#...#..#...."
            "......##..###.......###...#...."
            "....#...#.#.......#.##...##..##"
            "#.#......#..##.#.#..#..#..#...."
            "......#........#.......#......."
            "..........#.#.....##..........."
            "......#..#........#..#.#..###.."
            "##..#.............##..#........"
            ".........#....#.....#.........#"
            ".....#..##...#..#..##.##......#"
            "###..#...........#.......#....#"
            "...............#....#.#........"
            ".##.#...#.#........##....#....."
            ".##.###...##..###....#...#...#."
            ".##..#....#.#.#...#.#.#.#...#.."
            ".###.#...#.......#....#..#....."
            "..#..#.#.#.#........#.....##..."
            ".#.......#.#...#.#...........##"
            "...#.....##....#.....##...#...."
            "................#.....####...#."
            ".#.#......#.......##...#.##...."
            ".###.........#.#......#..#.#..."
            "#......#...#....#..##.......#.."
            ".##..#....#..#...........#...#."
            ".#...#.......##........#.##...."
            "..#...........#...##..........."
            ".....##....##......#....#..#..."
            "#......#.#...#.##.#...##....#.."
            "#....................#...##...#"
            "..#............#........#......"
            ".............#.........##.....#"
            "...#...#......##.#...#...#.#..."
            "..#...#.#.................#...."
            "....##...#....#...###.##......#"
            "...#....#...#..#...#....#.....#"
            "...##.#........#..#.........#.."
            "..##.....#..##...#.....##...#.."
            "#.........#.#.#...#......#...#."
            "#.#...........#...#..#..#..##.."
            "..#..#..##....#..........#.###."
            ".....#..#....#.#...#...#..#..#."
            "###.....#..#.................#."
            ".#..##.##.#......#....##..#...."
        |]

        let slopes = [|
            (1,1)
            (3,1)
            (5,1)
            (7,1)
            (1,2)
        |]

        let trees = slopes
                    |> Array.map (fun (x,y) -> traverse input (x,y))
                    |> Array.map (fun x -> (int64)x)

        let result = trees |> Array.fold (*) 1L

        output.WriteLine("Result: {0}", result)